<%- include('layout/header.ejs') %>

    <section class="detail-main-body">
        <div>
            <img class="detail-image" src="/assets/<%= Math.floor(Math.random() * 10) + 1 %>.jpeg" alt="">
        </div>
        <input type="hidden" id="restaurantsData" value='<%- JSON.stringify(data).replace(/'/g, "&apos;") %>'>
        <div>
            <div class="detail-list-item-content">
                <h5 class="restaurant-item-name">
                    <%= data.name %>
                </h5>
                <p>Address: <%= data.address.building %>
                        <%= data.address.street %>, <%= data.address.zipcode %>
                </p>
                <p>Borough: <%= data.borough %>
                </p>
                <p>Cuisine: <%= data.cuisine %>
                </p>
            </div>
        </div>
        <div class="detail-grades">
            <h5>Comments:</h5>
            <% for(let i=0; i < data.grades.length; i++) { %>
                <p>Comments: <%= data.grades[i].comments?data.grades[i].comments:'Delicious!!!!!' %> <br> Grade: <%=
                            data.grades[i].grade %> - Date: <%= data.grades[i].date %>
                </p>
                <% } %>
        </div>
        <div class="detail-comment">
            <form id="commentForm">
                <div class="mb-3">
                    <label for="commentText" class="form-label">Leave a comment:</label>
                    <textarea class="form-control" id="commentText" name="comment" rows="5"></textarea>
                </div>
                <label for="gradeSelect" class="form-label">Select Grade:</label>
                <select class="form-select" id="gradeSelect" name="grade">
                    <option value="" selected disabled>Choose...</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                </select>
                <input type="hidden" id="restaurantId" value="<%= data._id %>">
                <button type="submit" style="margin-top: 10px;" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="detail-map-container">
            <div id="detail-map"></div>
        </div>
    </section>

    <%- include('layout/footer.ejs') %>